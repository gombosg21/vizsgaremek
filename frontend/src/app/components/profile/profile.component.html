<div class="container">
    <ng-container *ngIf="UserProfile">
        <div class="row">
            <div class="col-md-4 text-center">
                <ng-container *ngIf="UserProfile.medium">
                    <img src="data:image/jpeg;base64,{{UserProfile.medium.file_data}}" alt="Profile Image" class="rounded-circle mb-3 profile-pic">
                </ng-container>
                <ng-container *ngIf="!UserProfile.medium">
                    <img src="https://via.placeholder.com/200" alt="Profile Image" class="rounded-circle mb-3 profile-pic">
                </ng-container>
            </div>
            <div class="col-md-8">
                <div class="d-flex justify-content-between align-items-center">
                    <h4 class="username"><i class="fa-solid fa-user" id="user-icon"></i> {{UserProfile.alias}}</h4>
                    <a *ngIf="isSession && userID == sessionID" class="btn btn-sm btn-secondary" (click)="editProfile()"><i
                            class="fa-solid fa-gear"></i>
                        Edit profile
                    </a>
                </div>
                <p class="birthdate"><i class="fa-solid fa-cake-candles"></i> {{UserProfile.birth_date | date:'dd. MMMM'}}
                </p>
                <div class="col-md-9">
                    <div class="d-flex justify-content-between">
                    </div>
                    <p class="lead">{{UserProfile.description}}</p>
                </div>
                <div>
                    <p>Followers: {{subscriberCount}}</p>
                </div>
                <div>
                    <button *ngIf="isSession && userID != sessionID" (click)="subscribe()">Subscribe</button>
                </div>
            </div>
        </div>
        <div class="col-md-12 mt-3">
            <div class="d-flex justify-content-between align-items-center">
                <h5>Profile Reactions</h5>
                <button class="btn btn-secondary btn-sm" (click)="react()">
                    <i class="fas fa-thumbs-up"></i> React
                </button>
            </div>
            <div>
                <app-reactions *ngIf="UserProfile.reactions" [newReaction]="newReactionID"></app-reactions>
            </div>
        </div>

        <hr>

        <app-reaction-modal *ngIf="showAddReactions" (close)="showAddReactions = false" parentType="user" [parentID]="userID" (reacted)="addReaction($event)"></app-reaction-modal>

        <ng-container *ngIf="UserProfileThread">
            <app-thread [isProfile]="true" [thread]="UserProfileThread"></app-thread>
        </ng-container>
    </ng-container>
</div>